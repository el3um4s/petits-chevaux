var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function i(t){return null==t?"":t}const l="undefined"!=typeof window;let a=l?()=>window.performance.now():()=>Date.now(),f=l?t=>requestAnimationFrame(t):t;const d=new Set;function h(t){d.forEach((n=>{n.c(t)||(d.delete(n),n.f())})),0!==d.size&&f(h)}function p(t){let n;return 0===d.size&&f(h),{promise:new Promise((e=>{d.add(n={c:t,f:e})})),abort(){d.delete(n)}}}function g(t,n){t.appendChild(n)}function m(t,n,e){t.insertBefore(n,e||null)}function $(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function v(){return y(" ")}function _(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function w(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function k(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}const x=new Set;let C,E=0;function S(t,n,e,o,s,r,c,u=0){const i=16.666/o;let l="{\n";for(let t=0;t<=1;t+=i){const o=n+(e-n)*r(t);l+=100*t+`%{${c(o,1-o)}}\n`}const a=l+`100% {${c(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(a)}_${u}`,d=t.ownerDocument;x.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(b("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${a}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${o}ms linear ${s}ms 1 both`,E+=1,f}function M(t,n){const e=(t.style.animation||"").split(", "),o=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),s=e.length-o.length;s&&(t.style.animation=o.join(", "),E-=s,E||f((()=>{E||(x.forEach((t=>{const n=t.__svelte_stylesheet;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.__svelte_rules={}})),x.clear())})))}function T(t){const n=getComputedStyle(t);if("absolute"!==n.position&&"fixed"!==n.position){const{width:e,height:o}=n,s=t.getBoundingClientRect();t.style.position="absolute",t.style.width=e,t.style.height=o,function(t,n){const e=t.getBoundingClientRect();if(n.left!==e.left||n.top!==e.top){const o=getComputedStyle(t),s="none"===o.transform?"":o.transform;t.style.transform=`${s} translate(${n.left-e.left}px, ${n.top-e.top}px)`}}(t,s)}}function A(t){C=t}function O(t){(function(){if(!C)throw new Error("Function called outside component initialization");return C})().$$.on_mount.push(t)}const R=[],L=[],P=[],j=[],B=Promise.resolve();let z=!1;function F(t){P.push(t)}let N=!1;const q=new Set;function D(){if(!N){N=!0;do{for(let t=0;t<R.length;t+=1){const n=R[t];A(n),H(n.$$)}for(A(null),R.length=0;L.length;)L.pop()();for(let t=0;t<P.length;t+=1){const n=P[t];q.has(n)||(q.add(n),n())}P.length=0}while(R.length);for(;j.length;)j.pop()();z=!1,N=!1,q.clear()}}function H(t){if(null!==t.fragment){t.update(),s(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(F)}}let I;function W(t,n,e){t.dispatchEvent(function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(`${n?"intro":"outro"}${e}`))}const Y=new Set;let G;function J(t,n){t&&t.i&&(Y.delete(t),t.i(n))}function K(t,n,e,o){if(t&&t.o){if(Y.has(t))return;Y.add(t),G.c.push((()=>{Y.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}const Q={duration:0};function U(e,o,c,u){let i=o(e,c),l=u?0:1,f=null,d=null,h=null;function g(){h&&M(e,h)}function m(t,n){const e=t.b-l;return n*=Math.abs(e),{a:l,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function $(o){const{delay:r=0,duration:c=300,easing:u=n,tick:$=t,css:b}=i||Q,y={start:a()+r,b:o};o||(y.group=G,G.r+=1),f||d?d=y:(b&&(g(),h=S(e,l,o,c,r,u,b)),o&&$(0,1),f=m(y,c),F((()=>W(e,o,"start"))),p((t=>{if(d&&t>d.start&&(f=m(d,c),d=null,W(e,f.b,"start"),b&&(g(),h=S(e,l,f.b,f.duration,0,u,i.css))),f)if(t>=f.end)$(l=f.b,1-l),W(e,f.b,"end"),d||(f.b?g():--f.group.r||s(f.group.c)),f=null;else if(t>=f.start){const n=t-f.start;l=f.a+f.d*u(n/f.duration),$(l,1-l)}return!(!f&&!d)})))}return{run(t){r(i)?(I||(I=Promise.resolve(),I.then((()=>{I=null}))),I).then((()=>{i=i(),$(t)})):$(t)},end(){g(),f=d=null}}}function V(t,n){t.f(),function(t,n){t.d(1),n.delete(t.key)}(t,n)}function X(t){t&&t.c()}function Z(t,n,o,c){const{fragment:u,on_mount:i,on_destroy:l,after_update:a}=t.$$;u&&u.m(n,o),c||F((()=>{const n=i.map(e).filter(r);l?l.push(...n):s(n),t.$$.on_mount=[]})),a.forEach(F)}function tt(t,n){const e=t.$$;null!==e.fragment&&(s(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function nt(t,n){-1===t.$$.dirty[0]&&(R.push(t),z||(z=!0,B.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function et(n,e,r,c,u,i,l=[-1]){const a=C;A(n);const f=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:u,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:e.context||[]),callbacks:o(),dirty:l,skip_bound:!1};let d=!1;if(f.ctx=r?r(n,e.props||{},((t,e,...o)=>{const s=o.length?o[0]:e;return f.ctx&&u(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),d&&nt(n,t)),e})):[],f.update(),d=!0,s(f.before_update),f.fragment=!!c&&c(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach($)}else f.fragment&&f.fragment.c();e.intro&&J(n.$$.fragment),Z(n,e.target,e.anchor,e.customElement),D()}A(a)}class ot{$destroy(){tt(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function st(t){const n=t-1;return n*n*n+1}function rt(t,{delay:e=0,duration:o=400,easing:s=n}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:s,css:t=>"opacity: "+t*r}}const ct=t=>({on:()=>ct(t),otherwise:()=>t}),ut=t=>({on:(n,e)=>n(t)?ct(e(t)):ut(t),otherwise:n=>n(t)}),it=[];function lt(n,e=t){let o;const s=[];function r(t){if(c(n,t)&&(n=t,o)){const t=!it.length;for(let t=0;t<s.length;t+=1){const e=s[t];e[1](),it.push(e,n)}if(t){for(let t=0;t<it.length;t+=2)it[t][0](it[t+1]);it.length=0}}}return{set:r,update:function(t){r(t(n))},subscribe:function(c,u=t){const i=[c,u];return s.push(i),1===s.length&&(o=e(r)||t),c(n),()=>{const t=s.indexOf(i);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}const at=lt(!1),ft={subscribe:at.subscribe,setTrue:()=>{at.update((t=>!0))}},dt=lt(!1),ht={subscribe:dt.subscribe,setTrue:()=>{dt.update((t=>!0))},setFalse:()=>{dt.update((t=>!1))}},pt=lt([]),gt={subscribe:pt.subscribe,addResult:t=>{const n=Object.assign(Object.assign({},t),{id:Math.random().toString()});pt.update((t=>[n,...t]))}};function mt(t,n,e="*"){t.contentWindow.postMessage(n,e)}function $t(t){if("https://el3um4s.github.io"!==t.origin)console.log("Error, wrong origin");else{const n=t.data;console.log(n),ut(n.type).on((t=>"status"===t),(()=>{return t=n.content,void ut(t).on((t=>"loader layout complete"===t.toLowerCase()),(()=>ft.setTrue())).on((t=>"playing"===t.toLowerCase()),(()=>ht.setFalse())).on((t=>"no play"===t.toLowerCase()),(()=>ht.setTrue())).otherwise((t=>()=>0));var t})).on((t=>"win"===t),(()=>function(t){const n=t[0],e=parseInt(t.slice(t.indexOf(":")+1,t.length).trim());gt.addResult({num:n,distance:e})}(n.content))).otherwise((t=>()=>0))}}function bt(n){let e,o;return{c(){e=b("iframe"),w(e,"title","C3"),e.src!==(o="./c3/index.html")&&w(e,"src","./c3/index.html"),w(e,"scrolling","no"),w(e,"noresize","noresize"),w(e,"class","svelte-lvkwyy")},m(t,o){m(t,e,o),n[1](e)},p:t,i:t,o:t,d(t){t&&$(e),n[1](null)}}}function yt(t,n,e){let{construct3:o}=n;return t.$$set=t=>{"construct3"in t&&e(0,o=t.construct3)},[o,function(t){L[t?"unshift":"push"]((()=>{o=t,e(0,o)}))}]}class vt extends ot{constructor(t){super(),et(this,t,yt,bt,c,{construct3:0})}}function _t(t,n,e={}){const o=getComputedStyle(t),s="none"===o.transform?"":o.transform,c=n.from.width/t.clientWidth,u=n.from.height/t.clientHeight,i=(n.from.left-n.to.left)/c,l=(n.from.top-n.to.top)/u,a=Math.sqrt(i*i+l*l),{delay:f=0,duration:d=(t=>120*Math.sqrt(t)),easing:h=st}=e;return{delay:f,duration:r(d)?d(a):d,easing:h,css:(t,n)=>`transform: ${s} translate(${n*i}px, ${n*l}px);`}}function wt(t){return ut(t).on((t=>["2","4","7","9"].includes(t)),(()=>"red")).on((t=>["1","3","6","8"].includes(t)),(()=>"blue")).on((t=>"5"===t),(()=>"green")).otherwise((t=>()=>"normal"))}function kt(t,n,e){const o=t.slice();return o[1]=n[e],o}function xt(e,o){let s,r,c,u,l,f,d,h,_,x,C=o[1].num+"",E=o[1].distance+"",A=t;return{key:e,first:null,c(){s=b("tr"),r=b("td"),c=b("strong"),u=y(C),l=v(),f=b("td"),d=y(E),h=v(),w(r,"class","svelte-n06uue"),w(f,"class","svelte-n06uue"),w(s,"class",_=i(wt(o[1].num))+" svelte-n06uue"),this.first=s},m(t,n){m(t,s,n),g(s,r),g(r,c),g(c,u),g(s,l),g(s,f),g(f,d),g(s,h)},p(t,n){o=t,1&n&&C!==(C=o[1].num+"")&&k(u,C),1&n&&E!==(E=o[1].distance+"")&&k(d,E),1&n&&_!==(_=i(wt(o[1].num))+" svelte-n06uue")&&w(s,"class",_)},r(){x=s.getBoundingClientRect()},f(){T(s),A()},a(){A(),A=function(e,o,s,r){if(!o)return t;const c=e.getBoundingClientRect();if(o.left===c.left&&o.right===c.right&&o.top===c.top&&o.bottom===c.bottom)return t;const{delay:u=0,duration:i=300,easing:l=n,start:f=a()+u,end:d=f+i,tick:h=t,css:g}=s(e,{from:o,to:c},r);let m,$=!0,b=!1;function y(){g&&M(e,m),$=!1}return p((t=>{if(!b&&t>=f&&(b=!0),b&&t>=d&&(h(1,0),y()),!$)return!1;if(b){const n=0+1*l((t-f)/i);h(n,1-n)}return!0})),g&&(m=S(e,0,1,i,u,l,g)),u||(b=!0),h(0,1),y}(s,x,_t,{})},d(t){t&&$(s)}}}function Ct(n){let e,o,s,r,c=[],u=new Map,i=n[0];const l=t=>t[1].id;for(let t=0;t<i.length;t+=1){let e=kt(n,i,t),o=l(e);u.set(o,c[t]=xt(o,e))}return{c(){e=b("table"),o=b("thead"),o.innerHTML='<tr><th class="svelte-n06uue">Boil</th> \n      <th class="svelte-n06uue">Distance</th></tr>',s=v(),r=b("tbody");for(let t=0;t<c.length;t+=1)c[t].c();w(o,"class","svelte-n06uue"),w(r,"class","scrollable svelte-n06uue"),w(e,"class","svelte-n06uue")},m(t,n){m(t,e,n),g(e,o),g(e,s),g(e,r);for(let t=0;t<c.length;t+=1)c[t].m(r,null)},p(t,[n]){if(1&n){i=t[0];for(let t=0;t<c.length;t+=1)c[t].r();c=function(t,n,e,o,s,r,c,u,i,l,a,f){let d=t.length,h=r.length,p=d;const g={};for(;p--;)g[t[p].key]=p;const m=[],$=new Map,b=new Map;for(p=h;p--;){const t=f(s,r,p),u=e(t);let i=c.get(u);i?o&&i.p(t,n):(i=l(u,t),i.c()),$.set(u,m[p]=i),u in g&&b.set(u,Math.abs(p-g[u]))}const y=new Set,v=new Set;function _(t){J(t,1),t.m(u,a),c.set(t.key,t),a=t.first,h--}for(;d&&h;){const n=m[h-1],e=t[d-1],o=n.key,s=e.key;n===e?(a=n.first,d--,h--):$.has(s)?!c.has(o)||y.has(o)?_(n):v.has(s)?d--:b.get(o)>b.get(s)?(v.add(o),_(n)):(y.add(s),d--):(i(e,c),d--)}for(;d--;){const n=t[d];$.has(n.key)||i(n,c)}for(;h;)_(m[h-1]);return m}(c,n,l,1,t,i,u,r,V,xt,null,kt);for(let t=0;t<c.length;t+=1)c[t].a()}},i:t,o:t,d(t){t&&$(e);for(let t=0;t<c.length;t+=1)c[t].d()}}}function Et(t,n,e){let o;return u(t,gt,(t=>e(0,o=t))),[o]}class St extends ot{constructor(t){super(),et(this,t,Et,Ct,c,{})}}function Mt(t){let n,e,o,r,c,u,i,l,a,f,d,h,p,k,x,C,E,S,M,T,A=!t[1]&&Tt(t),O=t[2]&&At();return C=new St({}),{c(){n=b("div"),e=b("div"),o=b("label"),r=b("input"),c=y("\n          AutoPlay"),u=v(),A&&A.c(),i=v(),l=b("div"),a=b("label"),f=b("input"),d=y("\n          Show Stats"),h=v(),O&&O.c(),k=v(),x=b("div"),X(C.$$.fragment),w(r,"type","checkbox"),w(e,"class","autoplay"),w(f,"type","checkbox"),w(l,"class","statistics"),w(n,"class","settings svelte-2okntv"),w(x,"class","results svelte-2okntv")},m(s,p){m(s,n,p),g(n,e),g(e,o),g(o,r),r.checked=t[1],g(o,c),g(e,u),A&&A.m(e,null),g(n,i),g(n,l),g(l,a),g(a,f),f.checked=t[2],g(a,d),g(l,h),O&&O.m(l,null),m(s,k,p),m(s,x,p),Z(C,x,null),S=!0,M||(T=[_(r,"change",t[7]),_(r,"change",t[5]),_(f,"change",t[9])],M=!0)},p(t,n){2&n&&(r.checked=t[1]),t[1]?A&&(A.d(1),A=null):A?A.p(t,n):(A=Tt(t),A.c(),A.m(e,null)),4&n&&(f.checked=t[2]),t[2]?O||(O=At(),O.c(),O.m(l,null)):O&&(O.d(1),O=null)},i(t){S||(F((()=>{p||(p=U(n,rt,{},!0)),p.run(1)})),J(C.$$.fragment,t),F((()=>{E||(E=U(x,rt,{},!0)),E.run(1)})),S=!0)},o(t){p||(p=U(n,rt,{},!1)),p.run(0),K(C.$$.fragment,t),E||(E=U(x,rt,{},!1)),E.run(0),S=!1},d(t){t&&$(n),A&&A.d(),O&&O.d(),t&&p&&p.end(),t&&$(k),t&&$(x),tt(C),t&&E&&E.end(),M=!1,s(T)}}}function Tt(t){let n,e,o,s,r;return{c(){n=b("button"),e=y("Spin"),n.disabled=o=!t[4]},m(o,c){m(o,n,c),g(n,e),s||(r=_(n,"click",t[8]),s=!0)},p(t,e){16&e&&o!==(o=!t[4])&&(n.disabled=o)},d(t){t&&$(n),s=!1,r()}}}function At(t){let n;return{c(){n=b("p"),n.textContent="..."},m(t,e){m(t,n,e)},d(t){t&&$(n)}}}function Ot(t){let n,e,o,r,c,u,i,l,a;function f(n){t[6](n)}let d={};void 0!==t[0]&&(d.construct3=t[0]),c=new vt({props:d}),L.push((()=>function(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}(c,"construct3",f)));let h=t[3]&&Mt(t);return{c(){n=b("main"),e=b("div"),e.innerHTML='<h2 class="svelte-2okntv">Petits Chevaux</h2> \n    <p>A gambling game based on the ancient Petits Chevaux (French game). In\n      other words, a miniature roulette made with Construct 3 and Svelte</p>',o=v(),r=b("div"),X(c.$$.fragment),l=v(),h&&h.c(),w(e,"class","title svelte-2okntv"),w(r,"class","roulette svelte-2okntv"),w(n,"class","grid-container svelte-2okntv")},m(t,s){m(t,n,s),g(n,e),g(n,o),g(n,r),Z(c,r,null),g(n,l),h&&h.m(n,null),a=!0},p(t,[e]){const o={};var r;!u&&1&e&&(u=!0,o.construct3=t[0],r=()=>u=!1,j.push(r)),c.$set(o),t[3]?h?(h.p(t,e),8&e&&J(h,1)):(h=Mt(t),h.c(),J(h,1),h.m(n,null)):h&&(G={r:0,c:[],p:G},K(h,1,1,(()=>{h=null})),G.r||s(G.c),G=G.p)},i(t){a||(J(c.$$.fragment,t),F((()=>{i||(i=U(r,rt,{},!0)),i.run(1)})),J(h),a=!0)},o(t){K(c.$$.fragment,t),i||(i=U(r,rt,{},!1)),i.run(0),K(h),a=!1},d(t){t&&$(n),tt(c),t&&i&&i.end(),h&&h.d()}}}function Rt(t,n,e){let o,s,r;u(t,ft,(t=>e(3,o=t))),u(t,ht,(t=>e(4,s=t)));let c=!0,i=!0;O((()=>{globalThis.addEventListener?globalThis.addEventListener("message",$t,!1):globalThis.attachEvent("onmessage",$t)}));return[r,c,i,o,s,function(){mt(r,{type:"set",content:c?"AutoPlay=YES":"AutoPlay=NO"})},function(t){r=t,e(0,r)},function(){c=this.checked,e(1,c)},()=>mt(r,{type:"status",content:"SPIN"},"*"),function(){i=this.checked,e(2,i)}]}return new class extends ot{constructor(t){super(),et(this,t,Rt,Ot,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
